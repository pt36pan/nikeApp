webpackJsonp([0],{Wlg1:function(e,t){},eR1x:function(e,t){},jRHq:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Ljds"),a={components:{},props:{shoes:{type:Array,default:[]}},computed:{time:function(){var e="";this.shoes.length>0&&(e=this.shoes[0].time);var t=new Date,s=t.getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var a=t.getDate();return e=(t=s+"-"+i+"-"+(a=a<10?"0"+a:a))===e.substring(0,10)?"今日新品":t.substring(8,10)===parseInt(e.substring(8,10))-1+""?"明日发布":e.substring(0,10),e}},data:function(){return{}},created:function(){},mounted:function(){this.themeOfFormat()},beforeDestroy:function(){},methods:{timeOfWeek:function(e){var t=e,s=new Date(t);switch(s=s.toString().split(" "),t=t.substring(11,-1),s[0]){case"Sun":t="星期日 "+t;break;case"Sat":t="星期六 "+t;break;case"Fri":t="星期五 "+t;break;case"Thu":t="星期四 "+t;break;case"Wed":t="星期三 "+t;break;case"Tue":t="星期二 "+t;break;case"Mon":t="星期一 "+t}return t},themeOfFormat:function(){for(var e=this.$refs.txts,t=0,s=e.length;t<s;t++)e[t].offsetHeight>27&&(e[t].innerText=e[t].innerText.substring(0,12)+"...")},shoesLatestCardClick:function(e){var t={target:e.id};this.$emit("shoes-latest-card-click",t)}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"shoes-latest-content"},[s("div",{staticClass:"shoes-latest-time"},[e._v(e._s(e.time))]),e._v(" "),e._l(e.shoes,function(t,i){return s("div",{staticClass:"shoes-latest-item",on:{click:function(s){return e.shoesLatestCardClick(t)}}},[s("div",{staticClass:"shoes-latest-item-left"},[s("img",{staticClass:"shoes-latest-item-left-img",attrs:{src:t.img}})]),e._v(" "),s("div",{staticClass:"shoes-latest-item-right"},[s("span",{ref:"txts",refInFor:!0},[e._v(e._s(t.theme))]),e._v(" "),s("br"),e._v(" "),s("span",[e._v(e._s(e.timeOfWeek(t.time)))])])])})],2)},staticRenderFns:[]};var n=s("VU/8")(a,o,!1,function(e){s("nWOl")},"data-v-8bfec04e",null).exports,r={components:{shoesCard:i.a,shoesLatestCard:n},props:{items:{type:Array,default:[]},datas:{type:Array,default:[]}},computed:{carouselFigureStyle:function(){var e=document.body.clientWidth;document.body.clientHeight;return{width:this.items.length*e+"px",left:-this.currentPosition*e+"px",top:this.currentPosition===this.items.length-1?"60px":"110px"}},currentPosition:function(){for(var e=0,t=this.items.length;e<t;e++)if(this.items[e].active)return e},shoesSelectedArray:function(){for(var e=[],t=0,s=this.datas.length;t<s;t++)0===this.datas[t].state&&e.push(this.datas[t]);return e},shoesSellArray:function(){for(var e=[],t=0,s=this.datas.length;t<s;t++)1===this.datas[t].state&&e.push(this.datas[t]);return e},shoesLatestArray:function(){for(var e=[],t=0,s=this.datas.length;t<s;t++)3===this.datas[t].state&&e.push(this.datas[t]);return e},latestShoes:function(){for(var e={},t=[],s=this.shoesLatestArray,i=0,a=s.length;i<a;i++)t[s[i].time]?e[s[i].time].push(s[i]):(Array.isArray(e[e.length])||(e[s[i].time]=[],e[s[i].time].push(s[i])),t[s[i].time]=!0);return e},shoesCardSize:function(){return 0===this.layoutType?document.body.clientWidth:document.body.clientWidth/2-4}},data:function(){return{layoutType:0}},created:function(){},mounted:function(){var e=this;e.$bus.$on("change-to-right",function(){var t={target:e.currentPosition===e.items.length-1?0:e.currentPosition+1};console.log("c t r"),e.$emit("carousel-figure-change",t)}),e.$bus.$on("change-to-left",function(){var t={target:0===e.currentPosition?e.items.length-1:e.currentPosition-1};e.$emit("carousel-figure-change",t)}),e.$bus.$on("change-layout",function(t){e.layoutType=t.layout})},beforeDestroy:function(){this.$off("carousel-figure-change")},methods:{handleShoesButtonClick:function(e){0===e.state||1===e.state&&this.$store.commit({type:"moduleShopCart/openShopCart",shoes:{id:e.shoes.id,name:e.shoes.name,theme:e.shoes.theme}})},handleShoesClick:function(e){this.$emit("open-shoes-detail",e)},handleShoesLatestCardClick:function(e){this.$emit("open-shoes-detail",e)}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"carousel-figure-main",style:e.carouselFigureStyle},e._l(e.items,function(t,i){return s("div",{staticClass:"carousel-figure-content"},[0===i?s("div",{staticClass:"carousel-figure-selected"},e._l(e.shoesSelectedArray,function(t,i){return s("shoes-card",{key:t.id,attrs:{shoes:t,shoesSize:e.shoesCardSize,showInfo:0===e.layoutType,showShare:0===e.layoutType,showPick:0===e.layoutType},on:{"shoes-button-click":e.handleShoesButtonClick,"shoes-click":e.handleShoesClick}})}),1):e._e(),e._v(" "),1===i?s("div",{staticClass:"carousel-figure-sell"},e._l(e.shoesSellArray,function(t,i){return s("shoes-card",{key:t.id,attrs:{shoes:t,shoesSize:e.shoesCardSize,showInfo:0===e.layoutType},on:{"shoes-button-click":e.handleShoesButtonClick,"shoes-click":e.handleShoesClick}})}),1):e._e(),e._v(" "),2===i?s("div",{staticClass:"carousel-figure-latest"},e._l(e.latestShoes,function(t,i){return s("shoes-latest-card",{key:i,attrs:{shoes:t},on:{"shoes-latest-card-click":e.handleShoesLatestCardClick}})}),1):e._e(),e._v(" "),s("div",{staticClass:"height50"},[e._v("\n      已经到底部啦...\n    ")])])}),0)},staticRenderFns:[]};var u=s("VU/8")(r,c,!1,function(e){s("xwVJ")},"data-v-21dbc720",null).exports,l=s("naOn"),h={components:{},props:{menus:{type:Array,default:[]},height:{type:Number,default:60}},computed:{menuToolsStyle:function(){return{height:this.height+"px"}}},data:function(){return{ToolsState:0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{clickTools:function(e){this.ToolsState=0===this.ToolsState?1:0;var t={target:e,toolsState:this.ToolsState};this.$emit("click-menu-tools",t)}}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menu-tools-content",style:e.menuToolsStyle},e._l(e.menus,function(t,i){return s("div",{key:i,on:{click:function(s){return e.clickTools(t.id)}}},[s("transition",{attrs:{name:"icon"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:!t.active,expression:"!item.active"}],class:"iconfont "+t.icon})]),e._v(" "),s("transition",{attrs:{name:"icon"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"item.active"}],class:"iconfont "+t.iconActive})])],1)}),0)},staticRenderFns:[]};var f=s("VU/8")(h,d,!1,function(e){s("jx7+")},"data-v-6836716c",null).exports,m={components:{CarouselFigure:u,NavHead:l.a,MenuTools:f},props:{},computed:{shoesData:function(){return this.$store.state.moduleShoes.shoesData}},data:function(){return{carouselFigureArray:[{id:1,title:"精选",active:!0},{id:2,title:"热卖中",active:!1},{id:3,title:"新品预览",active:!1}],carouselFigurePos:0,menuToolsArray:[{id:1,icon:"icon-yinhangqia-tianchong",iconActive:"icon-caidan-tianchong",active:!1},{id:2,icon:"icon-iconset0174",iconActive:"icon-iconset0174",active:!1}]}},created:function(){},mounted:function(){this.$store.dispatch({type:"moduleShoes/getAllShoes",context:this})},beforeDestroy:function(){},methods:{handleNavHeadClick:function(e){this.carouselFigurePos=e.target;for(var t=0,s=this.carouselFigureArray.length;t<s;t++)this.carouselFigureArray[t].active=e.target===this.carouselFigureArray[t].id},handleMenuToolsClick:function(e){if(1===e.target){this.menuToolsArray[0].active=1===e.toolsState;var t={pos:this.carouselFigurePos,layout:e.toolsState};this.$bus.$emit("change-layout",t)}},handleCarouselFigureChange:function(e){for(var t=0,s=this.carouselFigureArray.length;t<s;t++)this.carouselFigureArray[t].active=t===e.target},handleOpenShoesDetail:function(e){var t=this;this.axios.get("/getShoes?s_id="+e.target).then(function(e){if(0===e.data.code){var s={basic:e.data.result.shoes,images:e.data.result.images};t.$store.commit({type:"moduleShoes/updateShoesDetail",shoesDetail:s}),t.$store.commit({type:"moduleShoes/shoesDetailShowOrClose"})}})},handleCloseShoesDetail:function(){this.$store.commit({type:"moduleShoes/shoesDetailShowOrClose"})}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("nav-head",{attrs:{items:e.carouselFigureArray},on:{"nav-head-click":e.handleNavHeadClick}}),e._v(" "),s("transition",{attrs:{name:"menu-tools"}},[s("menu-tools",{directives:[{name:"show",rawName:"v-show",value:!e.carouselFigureArray[e.carouselFigureArray.length-1].active,expression:"!carouselFigureArray[carouselFigureArray.length-1].active"}],attrs:{menus:e.menuToolsArray,height:50},on:{"click-menu-tools":e.handleMenuToolsClick}})],1),e._v(" "),s("carousel-figure",{attrs:{items:e.carouselFigureArray,datas:e.shoesData},on:{"carousel-figure-change":e.handleCarouselFigureChange,"open-shoes-detail":e.handleOpenShoesDetail}})],1)},staticRenderFns:[]};var g=s("VU/8")(m,v,!1,function(e){s("eR1x")},"data-v-47fe5f9c",null);t.default=g.exports},"jx7+":function(e,t){},nWOl:function(e,t){},naOn:function(e,t,s){"use strict";var i={components:{},props:{items:{type:Array,default:[]}},computed:{},data:function(){return{currentPosition:0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleNavClick:function(e){var t={target:e};this.$emit("nav-head-click",t)}}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"Nav-Head-content"},e._l(e.items,function(t,i){return s("div",{key:i,class:t.active?"Nav-Head-item active":"Nav-Head-item",on:{click:function(s){return e.handleNavClick(t.id)}}},[e._v("\n    "+e._s(t.title)+"\n  ")])}),0)},staticRenderFns:[]};var o=s("VU/8")(i,a,!1,function(e){s("Wlg1")},"data-v-3c982890",null);t.a=o.exports},xwVJ:function(e,t){}});
//# sourceMappingURL=0.67e33f4ab2f83be6016f.js.map