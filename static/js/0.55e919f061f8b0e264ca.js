webpackJsonp([0],{DBkV:function(t,e){},Wlg1:function(t,e){},eR1x:function(t,e){},jRHq:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Ljds"),n={components:{},props:{shoes:{type:Array,default:[]}},computed:{time:function(){var t="";this.shoes.length>0&&(t=this.shoes[0].time);var e=new Date,s=e.getFullYear(),i=e.getMonth()+1;i=i<10?"0"+i:i;var n=e.getDate();return t=(e=s+"-"+i+"-"+(n=n<10?"0"+n:n))===t.substring(0,10)?"今日新品":e.substring(8,10)===parseInt(t.substring(8,10))-1+""?"明日发布":t.substring(0,10),t}},data:function(){return{}},created:function(){},mounted:function(){this.themeOfFormat()},beforeDestroy:function(){},methods:{timeOfWeek:function(t){var e=t,s=new Date(e);switch(s=s.toString().split(" "),e=e.substring(11,-1),s[0]){case"Sun":e="星期日 "+e;break;case"Sat":e="星期六 "+e;break;case"Fri":e="星期五 "+e;break;case"Thu":e="星期四 "+e;break;case"Wed":e="星期三 "+e;break;case"Tue":e="星期二 "+e;break;case"Mon":e="星期一 "+e}return e},themeOfFormat:function(){for(var t=this.$refs.txts,e=0,s=t.length;e<s;e++)t[e].offsetHeight>27&&(t[e].innerText=t[e].innerText.substring(0,12)+"...")}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shoes-latest-content"},[s("div",{staticClass:"shoes-latest-time"},[t._v(t._s(t.time))]),t._v(" "),t._l(t.shoes,function(e,i){return s("div",{staticClass:"shoes-latest-item"},[s("div",{staticClass:"shoes-latest-item-left"},[s("img",{staticClass:"shoes-latest-item-left-img",attrs:{src:e.img}})]),t._v(" "),s("div",{staticClass:"shoes-latest-item-right"},[s("span",{ref:"txts",refInFor:!0},[t._v(t._s(e.theme))]),t._v(" "),s("br"),t._v(" "),s("span",[t._v(t._s(t.timeOfWeek(e.time)))])])])})],2)},staticRenderFns:[]};var o=s("VU/8")(n,a,!1,function(t){s("tiE/")},"data-v-4c74096e",null).exports,r={components:{shoesCard:i.a,shoesLatestCard:o},props:{items:{type:Array,default:[]},datas:{type:Array,default:[]}},computed:{carouselFigureStyle:function(){var t=document.body.clientWidth;document.body.clientHeight;return{width:this.items.length*t+"px",left:-this.currentPosition*t+"px",top:this.currentPosition===this.items.length-1?"60px":"110px"}},currentPosition:function(){for(var t=0,e=this.items.length;t<e;t++)if(this.items[t].active)return t},shoesSelectedArray:function(){for(var t=[],e=0,s=this.datas.length;e<s;e++)0===this.datas[e].state&&t.push(this.datas[e]);return t},shoesSellArray:function(){for(var t=[],e=0,s=this.datas.length;e<s;e++)1===this.datas[e].state&&t.push(this.datas[e]);return t},shoesLatestArray:function(){for(var t=[],e=0,s=this.datas.length;e<s;e++)3===this.datas[e].state&&t.push(this.datas[e]);return t},latestShoes:function(){for(var t={},e=[],s=this.shoesLatestArray,i=0,n=s.length;i<n;i++)e[s[i].time]?t[s[i].time].push(s[i]):(Array.isArray(t[t.length])||(t[s[i].time]=[],t[s[i].time].push(s[i])),e[s[i].time]=!0);return t},shoesCardSize:function(){return 0===this.layoutType?document.body.clientWidth:document.body.clientWidth/2-4}},data:function(){return{layoutType:0}},created:function(){},mounted:function(){var t=this;t.$bus.$on("change-to-right",function(){var e={target:t.currentPosition===t.items.length-1?0:t.currentPosition+1};console.log("c t r"),t.$emit("carousel-figure-change",e)}),t.$bus.$on("change-to-left",function(){var e={target:0===t.currentPosition?t.items.length-1:t.currentPosition-1};t.$emit("carousel-figure-change",e)}),t.$bus.$on("change-layout",function(e){t.layoutType=e.layout})},beforeDestroy:function(){this.$off("carousel-figure-change")},methods:{handleShoesButtonClick:function(t){t.state},handleShoesClick:function(t){this.$emit("open-shoes-detail",t)}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"carousel-figure-main",style:t.carouselFigureStyle},t._l(t.items,function(e,i){return s("div",{staticClass:"carousel-figure-content"},[0===i?s("div",{staticClass:"carousel-figure-selected"},t._l(t.shoesSelectedArray,function(e,i){return s("shoes-card",{key:e.id,attrs:{shoes:e,shoesSize:t.shoesCardSize,showInfo:0===t.layoutType,showShare:!0,showPick:!0},on:{"shoes-button-click":t.handleShoesButtonClick,"shoes-click":t.handleShoesClick}})}),1):t._e(),t._v(" "),1===i?s("div",{staticClass:"carousel-figure-sell"},t._l(t.shoesSellArray,function(e,i){return s("shoes-card",{key:e.id,attrs:{shoes:e,shoesSize:t.shoesCardSize,showInfo:0===t.layoutType}})}),1):t._e(),t._v(" "),2===i?s("div",{staticClass:"carousel-figure-latest"},t._l(t.latestShoes,function(t,e){return s("shoes-latest-card",{key:e,attrs:{shoes:t}})}),1):t._e(),t._v(" "),s("div",{staticClass:"height50"},[t._v("\n      已经到底部啦...\n    ")])])}),0)},staticRenderFns:[]};var u=s("VU/8")(r,c,!1,function(t){s("DBkV")},"data-v-f39cbff8",null).exports,l=s("naOn"),h={components:{},props:{menus:{type:Array,default:[]},height:{type:Number,default:60}},computed:{menuToolsStyle:function(){return{height:this.height+"px"}}},data:function(){return{ToolsState:0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{clickTools:function(t){this.ToolsState=0===this.ToolsState?1:0;var e={target:t,toolsState:this.ToolsState};this.$emit("click-menu-tools",e)}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu-tools-content",style:t.menuToolsStyle},t._l(t.menus,function(e,i){return s("div",{key:i,on:{click:function(s){return t.clickTools(e.id)}}},[s("transition",{attrs:{name:"icon"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:!e.active,expression:"!item.active"}],class:"iconfont "+e.icon})]),t._v(" "),s("transition",{attrs:{name:"icon"}},[s("i",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"item.active"}],class:"iconfont "+e.iconActive})])],1)}),0)},staticRenderFns:[]};var f=s("VU/8")(h,d,!1,function(t){s("jx7+")},"data-v-6836716c",null).exports,m={components:{CarouselFigure:u,NavHead:l.a,MenuTools:f},props:{},computed:{shoesData:function(){return this.$store.state.moduleShoes.shoesData}},data:function(){return{carouselFigureArray:[{id:1,title:"精选",active:!0},{id:2,title:"热卖中",active:!1},{id:3,title:"新品预览",active:!1}],carouselFigurePos:0,menuToolsArray:[{id:1,icon:"icon-yinhangqia-tianchong",iconActive:"icon-caidan-tianchong",active:!1},{id:2,icon:"icon-iconset0174",iconActive:"icon-iconset0174",active:!1}]}},created:function(){},mounted:function(){this.$store.dispatch({type:"moduleShoes/getAllShoes",context:this})},beforeDestroy:function(){},methods:{handleNavHeadClick:function(t){this.carouselFigurePos=t.target;for(var e=0,s=this.carouselFigureArray.length;e<s;e++)this.carouselFigureArray[e].active=t.target===this.carouselFigureArray[e].id},handleMenuToolsClick:function(t){if(1===t.target){this.menuToolsArray[0].active=1===t.toolsState;var e={pos:this.carouselFigurePos,layout:t.toolsState};this.$bus.$emit("change-layout",e)}},handleCarouselFigureChange:function(t){for(var e=0,s=this.carouselFigureArray.length;e<s;e++)this.carouselFigureArray[e].active=e===t.target},handleOpenShoesDetail:function(t){var e=this;this.axios.get("/getShoes?s_id="+t.target).then(function(t){if(0===t.data.code){var s={basic:t.data.result.shoes,images:t.data.result.images};e.$store.commit({type:"moduleShoes/updateShoesDetail",shoesDetail:s}),e.$store.commit({type:"moduleShoes/shoesDetailShowOrClose"})}})},handleCloseShoesDetail:function(){this.$store.commit({type:"moduleShoes/shoesDetailShowOrClose"})}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("nav-head",{attrs:{items:t.carouselFigureArray},on:{"nav-head-click":t.handleNavHeadClick}}),t._v(" "),s("transition",{attrs:{name:"menu-tools"}},[s("menu-tools",{directives:[{name:"show",rawName:"v-show",value:!t.carouselFigureArray[t.carouselFigureArray.length-1].active,expression:"!carouselFigureArray[carouselFigureArray.length-1].active"}],attrs:{menus:t.menuToolsArray,height:50},on:{"click-menu-tools":t.handleMenuToolsClick}})],1),t._v(" "),s("carousel-figure",{attrs:{items:t.carouselFigureArray,datas:t.shoesData},on:{"carousel-figure-change":t.handleCarouselFigureChange,"open-shoes-detail":t.handleOpenShoesDetail}})],1)},staticRenderFns:[]};var g=s("VU/8")(m,v,!1,function(t){s("eR1x")},"data-v-47fe5f9c",null);e.default=g.exports},"jx7+":function(t,e){},naOn:function(t,e,s){"use strict";var i={components:{},props:{items:{type:Array,default:[]}},computed:{},data:function(){return{currentPosition:0}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{handleNavClick:function(t){var e={target:t};this.$emit("nav-head-click",e)}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Nav-Head-content"},t._l(t.items,function(e,i){return s("div",{key:i,class:e.active?"Nav-Head-item active":"Nav-Head-item",on:{click:function(s){return t.handleNavClick(e.id)}}},[t._v("\n    "+t._s(e.title)+"\n  ")])}),0)},staticRenderFns:[]};var a=s("VU/8")(i,n,!1,function(t){s("Wlg1")},"data-v-3c982890",null);e.a=a.exports},"tiE/":function(t,e){}});
//# sourceMappingURL=0.55e919f061f8b0e264ca.js.map